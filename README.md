# ğŸ—³ï¸ Watch Your MP - Thai Parliament Voting Visualization

> **à¹€à¸§à¹‡à¸šà¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¸‚à¸­à¸‡à¸ªà¸¡à¸²à¸Šà¸´à¸à¸ªà¸ à¸²à¸œà¸¹à¹‰à¹à¸—à¸™à¸£à¸²à¸©à¸à¸£ (à¸ª.à¸ª.) à¹ƒà¸™à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢**

[![Deploy to GitHub Pages](https://github.com/sirawit-ch/sirawit-ch.github.io/actions/workflows/nextjs.yml/badge.svg)](https://github.com/sirawit-ch/sirawit-ch.github.io/actions/workflows/nextjs.yml)

ğŸ”— **Live Demo:** [https://sirawit-ch.github.io/watch-your-mp/](https://sirawit-ch.github.io/watch-your-mp/)

---

## ğŸ“– About

**Watch Your MP** à¹€à¸›à¹‡à¸™ data visualization project à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¸‚à¸­à¸‡ à¸ª.à¸ª. à¹ƒà¸™à¸£à¸±à¸à¸ªà¸ à¸²à¹„à¸—à¸¢à¸œà¹ˆà¸²à¸™à¹à¸œà¸™à¸—à¸µà¹ˆà¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢à¹à¸šà¸š interactive à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¸£à¸°à¸šà¸šà¹„à¸¥à¹ˆà¸ªà¸µà¹à¸šà¸š gradient à¹€à¸à¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸ªà¸±à¸”à¸ªà¹ˆà¸§à¸™à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”

à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹ƒà¸™à¸£à¸²à¸¢à¸§à¸´à¸Šà¸² **Data Information Visualization** à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² 2025

---

## âœ¨ Key Features

### ğŸ—ºï¸ Interactive Thailand Map

- **Tile Grid Visualization** - à¹à¸ªà¸”à¸‡à¹à¸œà¸™à¸—à¸µà¹ˆà¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢
- **Gradient Color System** - à¸£à¸°à¸šà¸šà¹„à¸¥à¹ˆà¸ªà¸µà¹à¸šà¸šà¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸•à¸²à¸¡à¸ªà¸±à¸”à¸ªà¹ˆà¸§à¸™à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´ (0-100%)
- **Hover Tooltip** - à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸§à¸²à¸‡à¹€à¸¡à¸²à¸ªà¹Œà¸šà¸™à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”
- **Click to Explore** - à¸„à¸¥à¸´à¸à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­ à¸ª.à¸ª. à¹ƒà¸™à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸™à¸±à¹‰à¸™à¹†
- **Zoom & Pan** - à¸‹à¸¹à¸¡à¹à¸¥à¸°à¹€à¸¥à¸·à¹ˆà¸­à¸™à¹à¸œà¸™à¸—à¸µà¹ˆà¸”à¹‰à¸§à¸¢ D3.js

### ğŸ¯ Smart Filtering

- **Vote Event Selection** - à¹€à¸¥à¸·à¸­à¸à¸”à¸¹à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸à¸±à¸•à¸•à¸´/à¸à¸à¸«à¸¡à¸²à¸¢
- **Vote Option Filter** - à¸à¸£à¸­à¸‡à¸•à¸²à¸¡à¸œà¸¥à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´ (à¹€à¸«à¹‡à¸™à¸”à¹‰à¸§à¸¢, à¹„à¸¡à¹ˆà¹€à¸«à¹‡à¸™à¸”à¹‰à¸§à¸¢, à¸‡à¸”à¸­à¸­à¸à¹€à¸ªà¸µà¸¢à¸‡, à¸¯à¸¥à¸¯)
- **Dynamic Heatmap** - à¸ªà¸µà¹à¸œà¸™à¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸²à¸¡à¸•à¸±à¸§à¸à¸£à¸­à¸‡à¹à¸šà¸š real-time
- **Winning Vote Display** - à¹à¸ªà¸”à¸‡à¸œà¸¥à¹‚à¸«à¸§à¸•à¸—à¸µà¹ˆà¸Šà¸™à¸°à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸” (à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸¥à¸·à¸­à¸ "à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”")

### ğŸ“Š MP Information Panel

- **Province-based Listing** - à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­ à¸ª.à¸ª. à¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸
- **Vote Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¸¥à¸‡à¸¡à¸•à¸´à¸‚à¸­à¸‡ à¸ª.à¸ª. à¹à¸•à¹ˆà¸¥à¸°à¸„à¸™
- **Party Affiliation** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸£à¸£à¸„à¸à¸²à¸£à¹€à¸¡à¸·à¸­à¸‡à¹à¸¥à¸°à¹€à¸‚à¸•à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¹‰à¸‡
- **Responsive Design** - à¸›à¸£à¸±à¸šà¸‚à¸™à¸²à¸”à¸•à¸²à¸¡à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

### ğŸ¨ Color Legend

- **Dynamic Legend** - à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸ªà¸µà¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸•à¸²à¸¡à¸•à¸±à¸§à¸à¸£à¸­à¸‡
- **Gradient Bar** - à¹à¸ªà¸”à¸‡à¸Šà¹ˆà¸§à¸‡à¸ªà¸µà¹à¸šà¸š gradient (120px fixed width)
- **Positioned UI** - à¸­à¸¢à¸¹à¹ˆà¸¡à¸¸à¸¡à¸‹à¹‰à¸²à¸¢à¸¥à¹ˆà¸²à¸‡à¸‚à¸­à¸‡à¹à¸œà¸™à¸—à¸µà¹ˆà¹à¸šà¸š fixed

---

## ğŸ› ï¸ Tech Stack

### Frontend Framework

- **[Next.js 16.0.0](https://nextjs.org/)** - React framework with App Router
- **[React 19.2.0](https://react.dev/)** - UI library
- **[TypeScript 5](https://www.typescriptlang.org/)** - Type-safe development

### Data Visualization

- **[D3.js 7.9.0](https://d3js.org/)** - Data-driven DOM manipulation
- **[d3-geo 3.1.1](https://github.com/d3/d3-geo)** - Geographic projections
- **Custom Gradient System** - Hex color interpolation algorithm

### UI Components & Styling

- **[Material-UI 7.3.5](https://mui.com/)** - React UI components
- **[Emotion 11.14](https://emotion.sh/)** - CSS-in-JS
- **[Tailwind CSS 4](https://tailwindcss.com/)** - Utility-first CSS

### Data Processing

- **Python 3** - Data pipeline scripts
- **pandas** - Data transformation
- **GraphQL API** - Politigraph WeVis API integration

### Deployment

- **GitHub Actions** - CI/CD automation
- **GitHub Pages** - Static site hosting
- **Environment Variables** - Configuration management

---

## ğŸš€ Getting Started

### Prerequisites

```bash
node >= 20.x
npm >= 10.x
python >= 3.x (for data updates)
```

### Installation

```bash
# Clone repository
git clone https://github.com/sirawit-ch/sirawit-ch.github.io.git
cd sirawit-ch.github.io

# Install dependencies
npm install

# Set up environment variables (create .env.local)
# NEXT_PUBLIC_BASE_PATH=
# NEXT_PUBLIC_DATA_PATH=/data/new-data
```

### Development

```bash
# Run development server
npm run dev

# Open browser at http://localhost:3000
```

### Build for Production

```bash
# Build static export
npm run build

# Output will be in ./out/ directory
```

### Update Data (Optional)

```bash
# Update JSON data from GraphQL API
npm run data:update

# Update data and rebuild
npm run data:update-and-build
```

---

## ğŸ“ Project Structure

```
politigraph-webapp/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # Main application page
â”‚   â”œâ”€â”€ layout.tsx                # Root layout
â”‚   â”œâ”€â”€ globals.css               # Global styles
â”‚   â””â”€â”€ dataHelpers.ts            # Data processing utilities
â”œâ”€â”€ components/                   # React components
â”‚   â”œâ”€â”€ ThailandMap.tsx          # D3.js map visualization
â”‚   â”œâ”€â”€ FilterPanel.tsx          # Vote filter controls
â”‚   â”œâ”€â”€ InfoPanel.tsx            # MP information display
â”‚   â”œâ”€â”€ MapLegend.tsx            # Color legend component
â”‚   â”œâ”€â”€ MapTooltip.tsx           # Hover tooltip
â”‚   â””â”€â”€ Statistics.tsx           # Stats overview
â”œâ”€â”€ lib/                          # Utility libraries
â”‚   â”œâ”€â”€ new-api.ts               # Data fetching API
â”‚   â”œâ”€â”€ types.ts                 # TypeScript interfaces
â”‚   â”œâ”€â”€ constants.ts             # Color constants
â”‚   â”œâ”€â”€ colorUtils.ts            # Gradient calculations
â”‚   â””â”€â”€ metadata.ts              # Data metadata
â”œâ”€â”€ public/                       # Static assets
â”‚   â””â”€â”€ data/new-data/           # JSON data files
â”‚       â”œâ”€â”€ person_data.json
â”‚       â”œâ”€â”€ person_vote_data.json
â”‚       â”œâ”€â”€ fact_data.json
â”‚       â””â”€â”€ vote_detail_data.json
â”œâ”€â”€ scripts/                      # Python data pipeline
â”‚   â””â”€â”€ generate-new-data.py
â”œâ”€â”€ .github/workflows/            # CI/CD workflows
â”‚   â”œâ”€â”€ nextjs.yml               # Deployment workflow
â”‚   â””â”€â”€ update-data.yml          # Data update workflow
â”œâ”€â”€ .env.local                    # Local environment config
â”œâ”€â”€ .env.production              # Production environment config
â””â”€â”€ next.config.ts               # Next.js configuration
```

---

## ğŸ¨ Color System

### Gradient Color Mapping

| Vote Option         | Light Color | Dark Color | Usage          |
| ------------------- | ----------- | ---------- | -------------- |
| **à¹€à¸«à¹‡à¸™à¸”à¹‰à¸§à¸¢**        | `#5b83c2`   | `#2d3470`  | Agree votes    |
| **à¹„à¸¡à¹ˆà¹€à¸«à¹‡à¸™à¸”à¹‰à¸§à¸¢**     | `#ff9d87`   | `#be4d38`  | Disagree votes |
| **à¸‡à¸”à¸­à¸­à¸à¹€à¸ªà¸µà¸¢à¸‡**      | `#b8b8b8`   | `#3f4040`  | Abstain votes  |
| **à¹„à¸¡à¹ˆà¸¥à¸‡à¸„à¸°à¹à¸™à¸™à¹€à¸ªà¸µà¸¢à¸‡** | `#f4be94`   | `#a26426`  | No vote        |
| **à¸¥à¸²/à¸‚à¸²à¸”à¸¥à¸‡à¸¡à¸•à¸´**     | `#b6b6a9`   | `#5c5a4b`  | Absent         |

**Algorithm:** Linear interpolation based on vote portion (0-100%)

---

## ğŸ”§ Environment Variables

### Development (`.env.local`)

```bash
NEXT_PUBLIC_BASE_PATH=
NEXT_PUBLIC_DATA_PATH=/data/new-data
```

### Production (`.env.production` / GitHub Actions)

```bash
NEXT_PUBLIC_BASE_PATH=/watch-your-mp
NEXT_PUBLIC_DATA_PATH=/data/new-data
```

---

## ğŸš€ Deployment

### Automatic Deployment (GitHub Actions)

1. **Push to `main` branch** triggers automatic build
2. **Environment variables** injected during build
3. **Static site** deployed to GitHub Pages
4. **Live at:** `https://sirawit-ch.github.io/watch-your-mp/`

### Manual Deployment

```bash
# Build for production
npm run build

# Deploy ./out/ directory to hosting service
```

---

## ğŸ“Š Data Flow

```
GraphQL API (WeVis Politigraph)
    â†“
Python Data Pipeline (generate-new-data.py)
    â†“
Static JSON Files (public/data/new-data/)
    â†“
Next.js App (Client-side Fetch)
    â†“
React Components (D3.js Visualization)
    â†“
User Interface (Interactive Map)
```

---

## ğŸ¤ Contributing

This is an academic project. Contributions and suggestions are welcome!

---

## ğŸ“„ License

Created for educational purposes - Data Information Visualization Course, 2025

---

## ğŸ™ Acknowledgments

- **Data Source:** [Politigraph by WeVis](https://politigraph.wevis.info/)
- **Built with:** Next.js, React, D3.js, Material-UI, Tailwind CSS

---
